<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/px-card/px-card.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/marked-element/marked-element.html">
<link rel="import" href="todocreate-view-styles.html"/>

<dom-module id="todoupdate-view">
    <template>
        <style include="todocreate-view-styles"></style>

        <div>
            <h1 style="font-family: 'Times New Roman'">Update the details of Todo</h1>
        </div>

        <div class="flex flex--col flex--left flex--middle">
            <form ad="adddeafaultdata">
                <label for="notetitle" class="">Title</label>
                <input class="text-input input--small" id="notetitle" type="text" placeholder="Title of the note">
                <br>
                <br>
                <label for="notecontent" class="">Content</label>
                <input class="text-input input--large" id="notecontent" type="text" placeholder="Content of the note">
                <br>
                <br>
                <div class="btn-group">
                    <button class="btn" id="notesubmitbutton" on-click="formsubmit">Update</button>
                    <button class="btn" id="notecancelbutton" on-click="formcancel">Cancel</button>
                </div>
            </form>
        </div>

    </template>

    <script>
        Polymer({
            is: 'todoupdate-view',
            properties: {
                page:{
                    type: String,
                    notify: true
                },
                mytabledata:{
                    type: Object
                },
                clickedrowindex: {
                    notify: true
                },
            },
            ready: function() {
                console.log("ready:",this.clickedrowindex);
                if(this.mytabledata){
                    this.$.notetitle.value = this.mytabledata[this.clickedrowindex].title;
                    this.$.notecontent.value = this.mytabledata[this.clickedrowindex].content;
                }

            },
            formsubmit: function () {
                var temp = {};
                temp.title = this.$.notetitle.value;
                temp.content = this.$.notecontent.value;
                console.log("rowindex:",this.clickedrowindex);
                this.push('mytabledata',temp);
                this.page = "list";
            },

            formcancel: function () {
                this.page = 'list';
            }
        });
    </script>
</dom-module>
